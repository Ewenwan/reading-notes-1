# 不同游戏类型中的引擎差异

通常在某种程度上游戏引擎是为某游戏类型（genre）而设的，可是，各种引擎也有很大的重叠部分，例如，无论是什么类型的三维游戏，都需要
- 某形式的低阶用户输入（如从游戏手柄/键盘/鼠标）
- 某形式的三维网格渲染
- 某形式的平视显示器（heads-up display，HUD）（包括渲染不同字体的文本）
- 强大的音频系统
- 等等
  
常见的游戏类型，和每个类型的`技术需求`

## 第一人称射击（first person shooting，FPS）
    
> 典型例子：《雷神之锤（Quake）》、《虚幻竞技场（Unreal Tournament）》、《战栗时空（Half-Life）》《反恐精英（Counter-Strike）》和《使命之唤（Call of Duty）》

- FPS是开发技术难度极高的游戏类型之一。能与此相比的或许只有第三人称射击/动作/平台游戏，以及大型多人在线游戏。这是因为FPS要让玩家面对一个`精细而超现实`的世界时感到`身历其境`
- 注重技术
    - **高效地渲染大型三维虚拟世界**
    FPS中使用的渲染技术几乎总是经过高度优化，并且`按特定场景类型仔细调整`过的
        - 室内“地下城爬行（dungeon crawl）”游戏通常会利用二元空间分割树（binary space partitioning，BSP tree）或基于入口（portal）的渲染系统。
        - 室外FPS游戏使用其他种类的渲染优化，例如遮挡剔除（occlusion culling），或游戏在运行前预先把游戏世界分区化（sectorization），以自动或手动方式去设定每个分区是否能见到另一个分区
    - 快速反应的摄像机控制及瞄准机制。
    - 玩家的虚拟手臂和武器的逼真动画。
    > 大部分FPS游戏都会有多人在线模式，所以除了第一人称的手臂外往往还需要渲染主角的全身动画。不过，在FPS游戏中，玩家化身的逼真程度一般并不及非玩家角色（NPC），更不能和第三人称游戏的玩家化身相比
    - 各式各样的手持武器。
    - 宽容的玩家角色运动及碰撞模型，通常使游戏有种“漂浮”的感觉。
    - 非玩家角色（如玩家的敌人及同盟）有逼真的动画及智能。
    - 小规模在线多人游戏的能力（通常支持多至同时64位玩家在线），及无处不在的死亡竞赛（death match）游戏模式。
- 技术需求是业界里 **最严格、也最全面的，通常代表着最前沿的**
    - 经优化的高质量图形技术
    - 角色动画
    - 音效音乐
    - 刚体物理
    - 游戏内置电影
    - 大量其他技术

## 平台（platformer）及其他第三人称游戏（third person game）


- 2D 
> 典型例子：《太空惊魂记（Space Panic）》、《大金刚（Donkey Kong）》、《森林寻宝历险记（Pitfall!）》及《超级玛里奥（Super Mario Brothers ）》
- 3D
> 典型例子：《超级玛里奥64（Super Mario 64）》、《古惑狼（Crash Bandicoot）》、《雷曼2（Rayman 2）》、《音速小子（Sonic the Hedgehog）》、《杰克与达斯特（Jak and Daxter）》系列、《瑞奇与叮当（Ratchet & Clank）》系列，以及较近期的《超级玛里奥银河（Super Mario Galaxy）

从技术上说，平台游戏通常可以和第三人称射击/动作/历险游戏类型一并考虑
- 比较看重主角的`能力`（ability）及`运动模式`（locomotion mode）
- 游戏的主角化身（avatar）需要`高度逼真的全身动画`
- 台游戏中，游戏主角通常是比较卡通而不是很真实或细腻的。但是，第三人称射击通常使用非常真实的人形玩家角色。这两种类型都需要`非常丰富的行为和动画`

注重技术
- 移动平台、梯子、绳子、棚架及其他有趣的运动模式。
- 用来解谜的环境元素。
- 第三人称的“跟踪摄像机”会一直注视玩家角色，也通常会让玩家用手柄右摇杆（在游戏主机上）或鼠标（在PC上）旋转摄像机（虽然在PC上有很多流行的第三人称射击游戏，但平台游戏类型几乎是游戏主机上独有的）。
- `复杂的摄像机碰撞系统`，以保证视点不会穿过背景几何物体或动态的前景物体。

## 格斗游戏（fighting game）

> 典型例子：《灵魂能力（Soul Calibur）》，《铁拳（Tekken）》

这些游戏的三维世界比较小，而且摄像机一直位于动作的中心，以往这些游戏只有很少甚至不需要世界细分（world subdivision）或遮挡剔除。同样地，这些游戏不要求使用高阶的三维音频传播模型

传统格斗类型游戏注重以下技术
- 丰富的格斗动画。
- 准确的攻击判定。
- 能侦测复杂按妞及摇杆组合的玩家输入系统。
- 人群，或相对静态的背景。

其他格斗游戏
- brawler/beat ’em up（痛殴他们）：在一个大型的环境下而不是受限的竞技场进行的，玩家以单人或多人合作方式，在关卡中不断击倒敌人。如《天剑（Heavenly Sword）》
- hash and slash（切和斩）：以刀剑武器为主

《拳击之夜3（Fight Night Round 3）（PlayStation 3）使用的高级技术
- 高清的角色图形，包括仿真的皮肤着色器（shader）。着色器模拟了表面下散射（subsurface scattering，SSS）及冒汗效果
- 逼真的角色动画
- 基于物理的布料及头发模拟

## 竞速游戏（racing game）

> 日式缩写为RAC，但此缩写在西方不流行

所有以赛道上驾驶车辆或其他载具为主要任务的游戏，也不一定是和时间有关的比赛，例如，一些卡丁车游戏让玩家去射击对手、收集物品，或参与其他计时或不计时的任务。

分类
- 着重模拟的竞速游戏（“sims”）：力求模仿真实的驾驶体验
    > 典型例子：《跑车浪漫旅（Gran Turismo）
- 街机（arcade）竞速游戏：偏好娱乐性多于真实感
    > 典型例子：《洛杉矶赛车（San Francisco Rush）》、《极速狂飙（Cruis’n USA）》、《迅雷赛艇（HydroThunder）》
- 街头竞速（street racing）次文化：采用可改装的汽车
- 卡丁赛车（kart racing）：会使用一些平台游戏或电视卡通角色为主角，驾驶怪诞的汽车
    > 典型例子：《玛里奥赛车（Mario Kart）》、《杰克X（Jak X ）》、《捍卫战士（Freaky Flyers）

竞速游戏通常是非常线性的，这比较像旧式的FPS游戏。但移动速度一般比FPS游戏快许多。因此，这类游戏经常使用非常长的走廊式赛道和环形赛道，有时候加入一些可选分支或捷径。竞速游戏把`图形的细节集中在载具（vehicle）、赛道及近景`。但是，卡丁车游戏还需要投放足够的渲染及动画资源到驾驶角色上。

技术特性
- 使用多种“窍门”去渲染遥远的背景，例如使用二维纸板形式的树木、山岳和山脉。
- 赛道通常切开成较简单的二维区域，称为“分区（sector）”。这些数据结构用来实现`渲染优化`、`可见性判断`（visibility determination），帮助非玩家操控车辆的`人工智能及路径搜寻`，以及解决很多其他技术问题。
- 第三人称视角摄像机通常追随在车辆背后，第一人称摄像机有时候会置于架驶舱里。
- 如果赛道经过天桥底及其他狭窄空间，必须花精力`防止摄像机和背景几何物体碰撞`。


## 实时策略游戏（real-time strategy，RTS）

> 典型例子：《沙丘魔堡2（DuneII: The Building of a Dynasty）》（1992）、《魔兽争霸（Warcraft）》、《命令与征服（Command & Conquer）》、《帝国时代（Age of Empires）》、《星际争霸（Starcraft）

在这类游戏中，玩家在一个广阔的场地里，利用兵工厂策略地部署作战单位（battle units）去试图压倒对手。游戏世界通常会以斜面俯视（oblique top-down view）的视角显示
> 很多RTS游戏使用等角投影（isometric projection），即屏幕上3个轴的夹角均为（或接近）120◦
RTS通常不容许玩家改变视角以观看不同距离的景物。这个限制使开发者能在RTS渲染引擎上采用各种优化。
- 较老的同类游戏基于栅格（grid-based，或称为基于单元/cell-based）去构建游戏世界，并使用正射投影（orthographic projection），这两个技巧大大简化了渲染系统。
- 现在的RTS游戏也会使用透视投影及真三维世界，但这些游戏可能仍使用栅格排列系统，以保证作战单位和背景元素（如建筑物）能适当地对齐

RTS游戏的惯用手法
- 每个作战单元使用相对较`低解析度的模型`，使游戏能支持同时显示大量单元。
- 游戏的设计和进行多是在`高度场地形`（height field terrain）画面上展开的。
- 除了部署兵力，游戏通常准许玩家在地形上兴建新的建筑物。
- 用户互动方式通常为单击及以范围选取单元，再加上包含指令、装备、作战单元种类、建筑种类等的菜单及工具栏。

## 大型多人在线游戏（massively multiplayer online game，MMOG）

> 典型例子：《无冬之夜（Neverwinter Nights）》、《无尽的任务（EverQuest）》、《魔兽世界（World ofWarcraft）》及《星球大战: 星系（Star Wars Galaxies）

MMOG定义为能同时支持`大量玩家`（由数千至数十万），一般来说，这些玩家会在非常大的`持久世界`（persistent world）里进行游戏（持久世界是指其状态能持续一段很长的时间，比特定玩家每次玩的时间长很多）
- MMO角色扮演游戏（MMORPG）
- MMO实时策略游戏（MMORTS）
- MMO第一人称射击游戏（MMOFPS）

注重技术
- MMOG的核心是一组非常强大的服务器。这些服务器维护游戏世界的权威状态，管理用户登入/登出，也会提供用户间文字对话或IP电话（voice over internet protocol，VoIP）等服务。几乎所有MMOG都要求用户定期支付服务费用，也可能在游戏内或游戏外支持小额交易（micro-transaction）。这些都是开发商的主要收入来源，因此可能中央服务器最重要的角色是处理账单及小额交易。
- 因为MMOG的游戏场景规模和玩家数量都很大，MMOG里的图形逼真程度通常稍低于其他游戏

## 其他

- 体育游戏（sports）
> 日式缩写为SPT，但此缩写在西方不流行
- 角色扮演游戏（role playing game，RPG）
- 上帝模拟游戏（god game）
- 环境或社会模拟游戏（environmental/social simulation）
- 解谜游戏（puzzle）
- 非电子游戏的移植
- 基于网页的游戏

各游戏类型有其特殊的技术需求，因此传统上游戏引擎因游戏类型而有些差异。然而，不同游戏类型的技术需求也有很大的共通之处，尤其`在单个硬件平台上`，共通之处特别多。由于硬件性能的不断提升，因考虑优化而产生的游戏类型差异将会缩小。因此，现在把一个引擎技术应用于不同游戏类型，甚至不同硬件平台，变得越来越可行