{"root":{"data":{"text":"C#高效编程\n改进C#代码的50个行之有效的办法","expandState":"expand"},"children":[{"data":{"id":"bofr409455s0","created":1537186428151,"text":"（一）C#语言习惯","expandState":"expand","layout":null},"children":[{"data":{"id":"bofqqxofl7k0","created":1537185403813,"text":"1 使用属性而不是可访问的数据成员","layout":null},"children":[{"data":{"id":"bofr8uaod340","created":1537186807006,"text":"优势"},"children":[{"data":{"id":"bofr8w8k3ig0","created":1537186811231,"text":"暴露数据成员"},"children":[]},{"data":{"id":"bofr8zlwymo0","created":1537186818569,"text":"封装"},"children":[]}]},{"data":{"id":"bofr91sz5go0","created":1537186823350,"text":"特性"},"children":[{"data":{"id":"bofr9cqc7mw0","created":1537186847135,"text":"隐式属性语法"},"children":[{"data":{"id":"bofr9f9cpa80","created":1537186852638,"text":"C# 3.0"},"children":[]}]},{"data":{"id":"bofrago7p400","created":1537186934078,"text":"易于添加多线程支持对数据的同步访问"},"children":[]},{"data":{"id":"bofraijucyo0","created":1537186938167,"text":"可以为getter/setter指定不同的访问权限"},"children":[]}]},{"data":{"id":"bofr9404e340","created":1537186828135,"text":"实用例子"},"children":[{"data":{"id":"bofr9q1eo1k0","created":1537186876102,"text":"定义在泛型接口中"},"children":[]},{"data":{"id":"bofr9wki9zs0","created":1537186890318,"text":"创建所引器，暴露出可索引的项目"},"children":[{"data":{"id":"bofral89p140","created":1537186943998,"text":"一维or多维"},"children":[]},{"data":{"id":"boframwgxbk0","created":1537186947638,"text":"不同类型"},"children":[]},{"data":{"id":"bofraogv05s0","created":1537186951047,"text":"支持只读or读写"},"children":[]},{"data":{"id":"bofraprjcjc0","created":1537186953870,"text":"支持virtual&abstract"},"children":[]},{"data":{"id":"bofrar1z0ps0","created":1537186956678,"text":"不支持隐式"},"children":[]},{"data":{"id":"bofrasdnjc00","created":1537186959561,"text":"必须命名为this"},"children":[{"data":{"id":"bofrat3bgg00","created":1537186961112,"text":"防止混淆需要不同的参数列表"},"children":[]}]}]}]},{"data":{"id":"bofr96aerns0","created":1537186833111,"text":"原理"},"children":[{"data":{"id":"bofrawyvsfs0","created":1537186969551,"text":"作为两个独立的方法被编译到类型中"},"children":[{"data":{"id":"bofraxllv2g0","created":1537186970925,"text":"拥有方法的所有语言特性"},"children":[{"data":{"id":"bofraxllxm80","created":1537186970926,"text":"virtual"},"children":[]},{"data":{"id":"bofraxlm9880","created":1537186970926,"text":"abstract 定义在接口中"},"children":[]}]}]}]},{"data":{"id":"bofr973remg0","created":1537186834886,"text":"注意"},"children":[{"data":{"id":"bofrb0b93fc0","created":1537186976830,"text":"分支主题"},"children":[{"data":{"id":"bofrb0jmlbs0","created":1537186977336,"text":"如果把数据成员改成属性，需要重新编译所有用到该数据成员的代码"},"children":[{"data":{"id":"bofrb0jmtuw0","created":1537186977336,"text":"原因"},"children":[{"data":{"id":"bofrb0jmek80","created":1537186977336,"text":"源码层次兼容，二进制层面不同"},"children":[]},{"data":{"id":"bofrb0jmujs0","created":1537186977337,"text":"属性的访问和数据的访问会生成不同的MSIL（Microsoft Intermediate Language 微软中间语言）指令"},"children":[]}]},{"data":{"id":"bofrb0jnag00","created":1537186977337,"text":"后果"},"children":[{"data":{"id":"bofrb0jmvy00","created":1537186977337,"text":"更新单个程序集时，需要更新整个应用程序"},"children":[]},{"data":{"id":"bofrb0jmujk0","created":1537186977337,"text":"无法更新单一程序集"},"children":[]},{"data":{"id":"bofrb0jnayg0","created":1537186977337,"text":"破坏了二进制兼容性"},"children":[]}]}]}]}]},{"data":{"id":"bofrb67lv4g0","created":1537186989670,"text":"性能"},"children":[{"data":{"id":"bofrb7gxzdc0","created":1537186992411,"text":"相差一次函数调用，很小"},"children":[]},{"data":{"id":"bofrb7gxoko0","created":1537186992411,"text":"JIT编译器内联方法调用时一致"},"children":[]},{"data":{"id":"bofrb7gxz2o0","created":1537186992411,"text":"极端情况下有差距"},"children":[{"data":{"id":"bofrb7gy1zk0","created":1537186992411,"text":"？"},"children":[]}]},{"data":{"id":"bofrb7gxuw80","created":1537186992411,"text":"调用者有一定预期"},"children":[{"data":{"id":"bofrb7gxp740","created":1537186992411,"text":"不应执行长时间的计算"},"children":[]},{"data":{"id":"bofrb7gxwr40","created":1537186992411,"text":"不应进行跨应用程序的调用"},"children":[{"data":{"id":"bofrb7gxsc00","created":1537186992411,"text":"DB查询"},"children":[]}]},{"data":{"id":"bofrb7gy7q80","created":1537186992412,"text":"其他与期待不符的耗时操作"},"children":[]}]}]},{"data":{"id":"bofrb9mxnu80","created":1537186997127,"text":"建议"},"children":[{"data":{"id":"bofrb9mxiao0","created":1537186997127,"text":"无论何时在类型的公有or保护接口中需要暴露数据，都应使用属性"},"children":[]},{"data":{"id":"bofrb9mxtrk0","created":1537186997127,"text":"应该使用索引器来暴露序列or字典"},"children":[]},{"data":{"id":"bofrb9mxmmg0","created":1537186997127,"text":"所有数据成员都应该是私有的"},"children":[{"data":{"id":"bofrb9mxd8g0","created":1537186997127,"text":"没有例外"},"children":[{"data":{"id":"bofrb9mxr4w0","created":1537186997127,"text":"利于今后进行数据绑定"},"children":[]}]}]}]}]},{"data":{"id":"bofqr40o8140","created":1537185417614,"text":"2 使用运行时常量(readonly)而不是编译期常量(const)","layout":null},"children":[{"data":{"id":"bofqucg3pe80","created":1537185671054,"text":"编译期常量(const)","layout":null},"children":[{"data":{"id":"bofqv639e4o0","created":1537185735581,"text":"性能略优一点","layout":null},"children":[]},{"data":{"id":"bofqv8ikymg0","created":1537185740861,"text":"灵活性降低","layout":null},"children":[]},{"data":{"id":"bofqvdjps340","created":1537185751813,"text":"可以声明在方法中","layout":null},"children":[]},{"data":{"id":"bofqw02w5s00","created":1537185800862,"text":"在目标代码中替换，和常量编译成同样的IL","layout":null},"children":[]},{"data":{"id":"bofqvnsn61c0","created":1537185774121,"text":"用于基本类型（内建的int/float/enum/string）","layout":null},"children":[]}]},{"data":{"id":"bofqum8z3t40","created":1537185692390,"text":"运行时常量(readonly)","layout":null},"children":[{"data":{"id":"bofqvtn7oxc0","created":1537185786853,"text":"不能声明在方法中","layout":null},"children":[]},{"data":{"id":"bofqwa54w1c0","created":1537185822765,"text":"在运行时求值","layout":null},"children":[]},{"data":{"id":"bofr0og2oyo0","created":1537186167358,"text":"可以为任意类型","layout":null},"children":[]}]}]},{"data":{"id":"bofr1p4qjds0","created":1537186247214,"text":"3 推荐使用is或as操作符而不是强制类型转换","layout":null},"children":[]},{"data":{"id":"bofr2d9pn480","created":1537186299757,"text":"4 使用Conditional特性而不是#if条件编译","layout":null},"children":[]},{"data":{"id":"bofr2z6xixs0","created":1537186347478,"text":"5 为类型提供ToString()方法","layout":null},"children":[]},{"data":{"id":"bofr3cvrqmo0","created":1537186377278,"text":"6 理解几个等同性判断之间的关系","layout":null},"children":[]},{"data":{"id":"bofr3oiw5rs0","created":1537186402621,"text":"7 理解GetHashCode()的陷阱","layout":null},"children":[]},{"data":{"id":"bofr3tngzkw0","created":1537186413782,"text":"8 推荐使用查询语法而不是循环","layout":null},"children":[]},{"data":{"id":"bofr4egft2g0","created":1537186459069,"text":"9 避免在API中使用转换操作符","layout":null},"children":[]}]},{"data":{"id":"bofr7zm7t9k0","created":1537186740223,"text":"（二）.NET资源管理"},"children":[]},{"data":{"id":"bofr85z36yw0","created":1537186754062,"text":"（三）使用C#表达设计"},"children":[]},{"data":{"id":"bofr8baj9w80","created":1537186765638,"text":"（四）使用框架"},"children":[]},{"data":{"id":"bofr8fjpyeg0","created":1537186774901,"text":"（五）C#中的动态编程"},"children":[]},{"data":{"id":"bofr8kjxlcw0","created":1537186785798,"text":"（六）杂项"},"children":[]}]},"template":"right","theme":"fresh-blue","version":"1.4.43"}